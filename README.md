# C3S15Android

#### 介绍
三炮十五兵安卓版。
这种游戏目前还没见到有人做过程序来玩，我就来补这个空缺吧。
之前已经做了PC机版，使用JavaFX，现在在安卓上再实现一遍。
三炮十五兵这游戏虽然不算复杂，但也不是一眼就能看透各种变化，人机对弈也挺好玩的。
这个程序AI默认只是计算5步（可修改配置文件增减难度），但如果不是老手的话，
要战胜计算5步的电脑已经相当难，无论用炮还是用兵往往都只有被虐的份。
不信可以下载来试试，哈哈！

为增加趣味性，游戏的名字改为“跳猫捉老鼠”，其实叫什么都无所谓，
据我所知不同地方有不同叫法，有叫做“青蛙吃虫子”的，有叫“打日本鬼子”的，
甚至炮和兵的数量也可能不同，但规则都一样。


#### 游戏规则
* 游戏为炮先行走子，双方轮流走，每次只能走一个子。
* 炮隔一个空格可以吃掉一个兵，注意是空格，中间有子不行。除了吃兵之外，也可单纯移动一格。
* 兵每次移动一格，兵没有吃子能力。
* 炮吃掉最后一个兵则炮胜利；兵挤住了炮，让所有炮无法移动则兵胜利。
参考：[三炮十五兵 游戏](https://blog.csdn.net/JAVA_YU_XIN/article/details/108754235)
上面网页还有个无AI功能的网页程序（我没测试过）。


#### 下载
这是个开源项目，纯粹出于互相交流和学习。
编译好的apk文件在项目的apks目录中，直接下载安装到安卓系统的手机或平板即可运行。
至于IOS版，抱歉，我没有开发工具，目前并没打算去做。
如果有朋友想将其移植到IOS，非常欢迎，留个信，也许我们可以一起做。


#### 目前已有的功能
此游戏可以跟AI对弈，也可以连线对战。
连线方式有互联网和蓝牙两种。


#### 连线方法
如果打算用蓝牙连线，那么请将两台手机先配好对，设定好玩家后，点“重新开始”就会出现菜单。
如果使用互联网连线，首先确保已连通互联网（一般用WIFI吧），
对战通道最好改一下跟默认的“1234”不同（当然要跟对战对手相同），免得跟别人冲突。


#### 修改AI强度
这个程序默认AI计算深度为5，通常新手很难战胜深度为5的AI，
如果觉得太难了，点“AI强度”按钮，可以更改。
注意，别改太大了，否则AI运算很慢（除非你的手机CPU很牛）。


#### 关于游戏的平衡性
三炮十五兵这个游戏并不平衡，儿时也见过各种不同数量的炮和兵的版本，
但无论何种数量的炮和兵，都难以达到较好的平衡。
以流传最多的3个炮和15个兵来说，兵的优势是比较大的。
这可以通过AI的左右互搏来证明，当计算深度较深的时候，总是兵方获胜；
但对于计算深度较浅的AI或人类玩家来说就不是那么回事了，双方会互有胜负。
所以，3个炮和15个兵流传最广还是有一定道理的。


#### 软件架构
本程序使用Kotlin语言，在安卓上使用Kotlin确实比用Java好使。

互联网对战使用免费的MQTT服务器：broker.emqx.io

蓝牙就是用普通的SDP。

AI的运算方式使用最简单的深度优先搜索，评估函数也很简易，
目前能满足一般的对弈，以后可能会改进。


#### 后门
本程序留了个后门，可以让两台机连线后，切换玩家，让AI连线对战。
此功能可以用于连线对战时作弊，但我主要是用于观察两个计算深度不同的AI对弈。
因为同一台机AI对弈的话，双方计算深度是相同的，
用两台机可以很方便测试不同计算深度的AI的对弈情况。


#### 参与贡献
暂无


